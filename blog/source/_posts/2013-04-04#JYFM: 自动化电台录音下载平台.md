title: JYFM: 自动化电台录音下载平台
permalink: 776
categories:
  - 技术
tags:
  - 信不信由你
  - 作品
date: 2013-04-04
---

地址： [http://fm.jybox.net/](http://fm.jybox.net/)

我花了上个周末，两天的时间编写和测试，4月1日正式开始运行。

我早就想写这样一个东西了，我很早，大概小学的时候就开始听广播了。现在因为上学放学的路上无聊，也会听。但早晚高峰这个时间段实在没啥有意思的节目。而我之前听的节目(信不信由你)在晚上八点。所以我往往会听以往节目的录音。

很幸运，这各种需求的不是我一个。寅类(信不信由你的粉丝)就有帮忙录音并上传的好心人。在此之前一年我一直都在听桃子姐姐上传的录音。

其实在2010年我就参与过录音，当时还没有在线收听的方式，只能用收音机加手机来录，效果不好而且还麻烦。我当时录了两、三个月，然后因为中考的关系停了。

当新浪微电台出现的时候，我眼前一亮，我就想写这么一个程序了，可以自动从新浪微电台录音，并提供下载。但一直没动手，拖啊拖，拖到了现在。

附宣传稿：

> 地址(复制到浏览器，最好不要用IE)： http://fm.jybox.net/
>   简单直接，清爽界面，不废话，进去就下。
>
>   这是基于新浪微电台的全自动录音系统，只要(我)设置好录哪些，它会自动录，节目完事之后，立刻就有下载链接。
>
>   如果新浪微电台没啥动作的话，应该可以一直录下去。
>
>   意见建议，Bug汇报：QQ群210564909.
>
> 其实这个东西很早就有这个构想了，早就该做了，一直拖到现在。
>
>   这是一个平台，不止可以录信不信由你，其他的节目，其他的频道只要新浪微电台有的都可以录。目前还录了975的其他三档节目。
>
>   你觉得那些值得录，可以来告诉我，QQ群210564909
>
> PS：这个成本是灰常高的，流量可不便宜，目前应该可以比较轻松地支持每天100次下载。
>
>   再多的话就需要加点广告或者有闲钱的给我捐点钱&#8230;右面下方有我的支付宝链接，有闲钱的捐个十块八块的就行。

技术细节

我用50行的Go写了核心部分——从新浪微电台下载流媒体。下载下来的是flv格式，再加上下载结束时我采用的是很野蛮的截断方式，我怕一些播放器放不了，于是用ffmpge转码成了mp3格式。整个流程是用PHP写的脚本，用crontab定时启动，还有个PHP的Web页面用来显示录音列表。整个项目没有用到数据库，所有信息都是包含在文件名里面的，扩展起来可能不太方便。

目前是直接用服务器提供的下载，目前算下来每天最多能支持100次下载，再多就得用网盘了。

如果未来一段时间没有太多的用户，我就打算先这样了，不改了，放放广告收收捐款，回来点小钱就行。等我Go学精了，再用Go重写整个网站。
